# pfSense-like Router Configuration
# Week 3 Network Segmentation Rules

# Network Segments:
# DMZ Network:      172.20.1.0/24 (Webserver)
# Internal Network: 172.20.2.0/24 (Database) 
# Office Network:   172.20.3.0/24 (Office Tools)

[INTERFACES]
DMZ_INTERFACE=172.20.1.1/24
INTERNAL_INTERFACE=172.20.2.1/24
OFFICE_INTERFACE=172.20.3.1/24

[FIREWALL_RULES]
# Allow HTTP/HTTPS to DMZ from anywhere
ALLOW_HTTP_DMZ=tcp:80:172.20.1.0/24
ALLOW_HTTPS_DMZ=tcp:443:172.20.1.0/24

# Allow Office to access DMZ (website)
ALLOW_OFFICE_TO_DMZ=tcp:80,443:172.20.1.0/24:172.20.3.0/24

# Allow DMZ to access Internal (database)
ALLOW_DMZ_TO_INTERNAL=tcp:3306:172.20.2.0/24:172.20.1.0/24

# Allow Office to access Internal (database)
ALLOW_OFFICE_TO_INTERNAL=tcp:3306:172.20.2.0/24:172.20.3.0/24

# Allow SSH access to all networks (management)
ALLOW_SSH_ALL=tcp:22:0.0.0.0/0

# Block everything else by default
DEFAULT_DENY=all:all:0.0.0.0/0

[NAT_RULES]
# Port forwarding for external access
HTTP_FORWARD=80:172.20.1.10:80
HTTPS_FORWARD=443:172.20.1.10:443
SSH_WEBSERVER=2222:172.20.1.10:22
SSH_DATABASE=2223:172.20.2.10:22
SSH_OFFICE=2224:172.20.3.10:22
MYSQL_FORWARD=3306:172.20.2.10:3306

[LOGGING]
LOG_LEVEL=INFO
LOG_BLOCKED_CONNECTIONS=true
LOG_ALLOWED_CONNECTIONS=false
SYSLOG_SERVER=172.20.2.10
